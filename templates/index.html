<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SOW Generator</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <nav>
        <a href="/">Home</a> |
        <a href="/add_sow">Add SOW</a> |
        <a href="/edit_sows">View/Edit SOWs</a> |
        <a href="/add_charger_type">Add Charger Types</a>
    </nav>

    <div class="container">
        <h2>SOW Generator</h2>

        <div class="two-column-layout">
            <div class="controls-panel">
                <div class="form-group">
                    <label for="charger_type">Charger Type</label>
                    <select id="charger_type" name="charger_type">
                        <option value="">Select...</option>
                        {% for c in chargers %}
                            <option value="{{ c.id }}">{{ c.name }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="customer">Customer (for checkout info)</label>
                    <select id="customer" name="customer">
                        <option value="">Select...</option>
                        <option value="3">EVConnect</option>
                        <option value="1">EVgo</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="sow">SOW</label>
                    <select id="sow" name="sow" disabled>
                        <option value="">Select...</option>
                    </select>
                </div>

                <div class="button-group">
                    <button type="button" class="btn-danger" onclick="startOver()">Start Over</button>
                    <button type="button" class="btn-success" onclick="generateSOW()" disabled id="generateBtn">Generate SOW</button>
                </div>

                <div class="stats-section">
                    <h3>SOW Database Stats</h3>
                    <table class="table stats-table">
                        <thead>
                            <tr>
                                <th>Charger Type</th>
                                <th>SOWs</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- You can wire this later; keeping placeholders -->
                            {% for c in chargers %}
                                <tr>
                                    <td>{{ c.name }}</td>
                                    <td id="count_{{ c.id }}">--</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="content-panel">
                <div class="form-group">
                    <label for="sowContent">Generated SOW Content</label>
                    <textarea id="sowContent" placeholder="I'm tired of doing this the hard way..." class="large-textarea"></textarea>
                </div>

                <div class="content-buttons">
                    <button type="button" class="btn-button" onclick="copyToClipboard()">Copy to Clipboard</button>
                    <button type="button" class="btn-success" onclick="downloadPDF()" id="pdfBtn" disabled>Download PDF</button>
                </div>
            </div>
        </div>

        <div class="notice">
            <strong>Please Note:</strong> This is a work in progress and there's a good chance that some mistakes will occur. Please double-check everything.
        </div>
    </div>

    <!-- Make sure this is present so the SOW dropdown populates -->
    <script src="/static/app.js" defer></script>
</body>
</html>
