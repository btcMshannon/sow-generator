{% extends "base.html" %}
{% block content %}
<h3>Settings</h3>

<h4>Manage Charger Types</h4>
<table>
  <tr>
    <th>Charger Type</th>
    <th>Actions</th>
  </tr>
  {% for charger in charger_types %}
  <tr>
    <td>{{ charger.name }}</td>
    <td>
      <form method="POST" action="{{ url_for('delete_charger_type', charger_type_id=charger.id) }}" style="display:inline-block;" onsubmit="return confirm('Are you sure you want to delete this charger type? This cannot be undone if there are no associated SOWs.')">
        <button type="submit">Delete</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>

<h4>Manage Customers</h4>
<table>
  <tr>
    <th>Customer</th>
    <th>Check-in Contact</th>
    <th>Check-out Contact</th>
    <th>Actions</th>
  </tr>
  {% for customer in customers %}
  <tr>
    <td>{{ customer.name }}</td>
    <td>{{ customer.check_in_contact or '--' }}</td>
    <td>{{ customer.check_out_contact or '--' }}</td>
    <td>
      <a href="{{ url_for('edit_customer', customer_id=customer.id) }}">Edit</a>
      <form method="POST" action="{{ url_for('delete_customer', customer_id=customer.id) }}" style="display:inline-block;" onsubmit="return confirm('Are you sure you want to delete this customer?')">
        <button type="submit">Delete</button>
      </form>
    </td>
  </tr>
  {% endfor %}
</table>

<p><a href="{{ url_for('add_customer') }}">Add New Customer</a></p>

<p><strong>Note:</strong> Charger types cannot be deleted if they have associated SOWs. Delete the SOWs first, then delete the charger type.</p>
{% endblock %}
